on_death = {
	on_actions = {
		give_unpressed_admin_title_claim
		struggle_emperor_death
	}
}

give_unpressed_admin_title_claim = {
	effect = {
		if = {
			limit = {
				government_allows = administrative
				primary_title ?= {
					tier >= tier_empire
				}
			}
			primary_title = {
				save_temporary_scope_as = admin_title
			}
			scope:admin_title = {
				every_title_heir = {
					limit = {
						save_temporary_scope_as = heir_temp
						scope:admin_title = {
							place_in_line_of_succession = {
								target = scope:heir_temp
								value <= additional_succession_claims_total
							}
							NOT = {
								place_in_line_of_succession = {
									target = scope:heir_temp
									value = 1
								}
							}
						}
						NOT = { has_claim_on = scope:admin_title }
					}
					add_unpressed_claim = scope:admin_title
				}
			}
		}
	}
}

struggle_emperor_death = {
	effect = {
		if = {
			limit = {
				exists = scope:killer
				struggle:fate_of_byzantium ?= {
					phase_has_catalyst = catalyst_byz_emperor_assassinated
				}
				involved_in_byz_struggle = yes
				primary_title = title:e_byzantium
			}
			struggle:fate_of_byzantium ?= {
				activate_struggle_catalyst = catalyst_byz_emperor_assassinated
			}
		}
	}
}