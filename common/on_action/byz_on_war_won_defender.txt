on_war_won_defender = {
	on_actions = {
		on_war_won_defender_emperor_was_attacker
		on_war_won_defender_emperor_was_defender
	}
}

on_war_won_defender_emperor_was_attacker = {
	effect = {
		struggle:fate_of_byzantium ?= {
			if = {
				limit = {
					phase_has_catalyst = catalyst_byz_loses_war
					scope:attacker = title:e_byzantium.holder
					scope:attacker = { involved_in_byz_struggle = yes }
				}
				activate_struggle_catalyst = catalyst_byz_loses_war
			}
		}
	}
}

on_war_won_defender_emperor_was_defender = {
	effect = {
		struggle:fate_of_byzantium ?= {
			if = {
				limit = {
					phase_has_catalyst = catalyst_byz_wins_war
					scope:defender = title:e_byzantium.holder
					scope:defender = { involved_in_byz_struggle = yes }
				}
				activate_struggle_catalyst = catalyst_byz_wins_war
			}
		}
	}
}

