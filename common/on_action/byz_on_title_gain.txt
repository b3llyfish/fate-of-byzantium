on_title_gain = {
	on_actions = {
		emperor_anointed
		orthodox_holy_site_gained
		orthodox_holy_site_lost
	}
}

emperor_anointed = {
	effect = {
		if = {
			limit = {
				struggle:fate_of_byzantium ?= {
					phase_has_catalyst = catalyst_emperor_anointed
				}
				involved_in_byz_struggle = yes
				scope:title = title:e_byzantium
			}
			struggle:fate_of_byzantium ?= {
				activate_struggle_catalyst = catalyst_emperor_anointed
			}
		}
	}
}

orthodox_holy_site_gained = {
	effect = {
		if = {
			limit = {
				struggle:fate_of_byzantium ?= {
					phase_has_catalyst = catalyst_orthodox_holy_site_gained
				}
				top_liege = {
					involved_in_byz_struggle = yes
				}
				scope:previous_holder.top_liege ?= {
					NOT = {
						involved_in_byz_struggle = yes
					}
				}
				scope:title = {
					any_county_province = {
						barony = { is_holy_site_of = faith:orthodox }
					}
				}
			}
			struggle:fate_of_byzantium = {
				activate_struggle_catalyst = catalyst_orthodox_holy_site_gained
			}
		}
	}
}

orthodox_holy_site_lost = {
	effect = {
		if = {
			limit = {
				struggle:fate_of_byzantium ?= {
					phase_has_catalyst = catalyst_orthodox_holy_site_lost
				}
				NOT = {
					top_liege = {
						involved_in_byz_struggle = yes
					}
				}
				scope:previous_holder.top_liege ?= {
					involved_in_byz_struggle = yes
				}
				scope:title = {
					any_county_province = {
						barony = { is_holy_site_of = faith:orthodox }
					}
				}
			}
			struggle:fate_of_byzantium = {
				activate_struggle_catalyst = catalyst_orthodox_holy_site_lost
			}
		}
	}
}